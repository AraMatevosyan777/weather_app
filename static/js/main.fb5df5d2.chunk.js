(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={cities:"cities_cities__2BRUy",input:"cities_input__1uDEp",inner:"cities_inner__6Sljw",city:"cities_city__2oSvm",empty:"cities_empty__3KqKE",icons:"cities_icons__WFHOI",icon:"cities_icon__1vfQM"}},15:function(e,t,a){e.exports={nav:"nav_nav__1h3Rj",toggle:"nav_toggle__1Xn3Y",active:"nav_active__3Doff"}},44:function(e,t,a){e.exports=a.p+"static/media/delete.12333ffe.svg"},45:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAk7SURBVHic7Z1bbBxXGcf/35ldO7HXdtOmhPatSVFF6CWgiN4CUhpFCgYqqLW22wrloRegkkttCHZcwcZCSpwGxVEiocpESH6gvoZeRIOrtuSFOqhCVhWpMYpMKvUBcoEq8a5jZ717Ph7stbyxd2Z357KzO9/vKZr95pyT/f/2zM6ZozUhT6IvxSIIp76rmXcSYxuI7wGoAUB1vm0Ia3IT4Otg+owJnyiiM1gIvTv6u56EF52TVUG0vetenaZOMD1NhFovBhV0mDEL4kFl8OHRvt5pN/vKKcDevbF1sw3JA8xoJ6IqNwchrA0zJwE6FpkJxwYGeubd6GNNAVraXt2Sgh4jom1udCoUBjN/okIcdWM2WCXAD1/p/oZK4zQRNjndmVA8zLisDTS+eezgpJPtZgmweL1XEwTc6WQngjMwcFUZ+jEnZwKV+Ue0vX09p9WYhO9fCLiTU+pUtL19vVNtLgugU+sPAHjIqYYFlyA8uJSVQ81h6Usf8RQBYasTGDgP8MkQGePX9fWL4ydO3HRqMEFkT1tbdYNq2Jzi9B6Anidgq9U5DCwoQ2914lIQAoAU6S4CmYbPjDkF/jldmu4fHR1N2+1YWGTpAzQFYCoajR7Xd33lBTCOEiHnNE9AWKdUF4Dn7fZPT+7bVxeeD//HbJGHmZMgNJ46fuhDux0K1jS9vH8XGKfN1l+YMbuwbuGud44cidvpS1UnqxrzWOHrkPC9Y+m97jCrIUJtdbKq0W5fijXvMq1g/lRdmn7dbkdCYahL06+D+VOzGsvs8ukHwIPmJXRSrvnes/ie00mLMovsrFEM3mJWoJnH7XYiFIfVe2+VXT4oAPVmBTco8ZndToTiMO6oumhRYppdPiirJ31yn186Rnt6kmavO/GUVlmXCJWMCBBwRICAIwIEHBEg4IgAAUcECDghtzt4668fsdt9+JkfPPG45db7UiIzQMARAQKOCBBwRICAIwIEHBEg4IgAAcf1dQC/3wcHHZkBAo4IEHBEgIAjAgQcESDgiAABRwQIOLIfwGX8vg4iM0DAEQECjggQcESAgCMCBBwRIOCIAAFH9gMEHJkBAo4IEHBEgIAjAgQcESDgiAABRwQoa/iw3RZkP4DLuLcOwofHjh/qstuKzABliTPhAyJAGeJc+IAIUGY4Gz4gApQRzocPiABlgjvhAx7cBQj2YEbvqROH9rvVvswAPufUiYOuhQ/IfoDy5a2rdWp+3YsgepIYD4HQAPC/AfoIrIfTLXV/ApHlGozMAGWIMTjzlHFz/UUi+i0B314MHwDobgBRkBpTI4mPMXjN8k/KiABlhhpJ7APRGICNZnUE2m5Q6OPQG7MPm7bn6OgEV1HDiU5ivAai/C6rhNtZ8XtmEogAZYIaTnQS0FvwiYQGMwlEgDKg6PAzmEggAvgc2+FnyCGBCOBjHAs/wxoSVPx+gHJdh3A8/AyLEryLkWuPoPm2aZkBfIhr4Wcg3KHYGAQziQA+w/XwlyDQdmM4/pQI4CO8Cn8ZUi0igE/wPHwAYH5UBPABa4bPSIDxhasdEzaJACUmV/ik9HcUsNtdCWhOBCghZuGnmuv/ttAamXRTAmack/0AJcIq/MyhhdbIZHgosVsz3gfhdkcHQXhbZoASkG/4GVyaCf6rk/P9IoDHFBp+BkclYGaQ/il+tHFGBPCQYsPP4JQErKgz3Vw/BsjDIM+wG34GuxIwo1s3R44sj6uYRoTCcCr8DMVKwIxu3Ro5lDW2QjsXCiNH+PFiw89QqARrhQ+IAK5iEn6jnfAz5CtBrvABEcA13A4/g5UEZuEDIoAreBX+ctNK1wCoWnXcInxABHAcr8MPjczsYK3+AkIkq8s8wgdEAEcpt/ABEcAxyjF8QARwhHINHxABbFPO4QPyAxG28E34hP26JVLUdjKZAYrEV+E3Fxc+IAIURaWED4gABVNJ4QMiQEFUWviACJA3ajjxixKEf9rN8AERIC/UUPxZYn4t66A34ddldelw+IDcBlpiDMV3AvhD1s+yVEj4gAhgzhuzdwM8BFrxpI35BimuiPABuQTk5gyHlOJhEL60fIw5DaWerpTwAZkBcmJcScRAtGPlMQb9SjfXvuN0X6UKH5AZYE3CI/EHAHSuPMbgP+uWWuevwSUMHxABVhNjlWb0AxReeZiYLuTz06uFUOrwARFgFeprs88S6JFVLxA6jKF4wU/bcuGH8AERYDWaf5bzNaIuJyTwS/iACJDNyOUIAdtMa2xK4KfwAREgCwM13wSRYVm4KEHBYfktfABQzJw0K4jGYqu2G1cqzPR43sVEnYVI4MfwgcUZYMasIP2/5GaPxuID+NGCyvOUwK/hA4Ai0L/MC2iPV4MpKTFWa377t8JCgtDgzLf8Gj6wOAOcs6h5LhqNWl8Xy5zwfYmvAthQ1MlrScBMajjezkTv+zV8AFCk6EPTCsL9+sv3/sSj8ZSMdKiIT/9KVkowNrdZDc9+QKCjIKpeWean8AFA3axKnmbGrEXd0aaX9+/yZEQlgjTvsK6yaoQ61VD8bSOdOkeEJ7JeY2ZmdPopfAAgAGhq6z5JhOfMCpkxB0LH/RvC/T09Pdqb4XmHMZT4Jwj3udI44xqUfiHzsyx+ggCgpe3VLSniKQLCVicwcF6B+0HG+Ia5Kxf7+/sX3B+my/xxZqNh0JW8/xZPATD4PU3Gi2iu+dzptp1g+T/c1NZ9mAi/LOVgvGDs+MFVIRtDs98HsbOPeRlfMKFDt0QGHG3XYZZXAlVo7gDY8o6gQtH2vgDeCmM4rXmr38MHVggw2tc3RyHdxMDVUg6oFPAtGz9scAHMu9OtkVY8U3fZoTZdJetZwGhf77RW2MOMshi8I5zhEDFvt9UG8xwDv05T7QPp1roPHBqZJ6x6GPTmsYOTKqR3BOVyELp84+sgqinoJMZ1Zh5nQgzMu9Pr5jfplshv0Eymz1X8yJp7Akf7eqf37o09nKhf6AH4FSKq2AdCWunHiC2//F8A81lWasLQemJhKnIePVQRt8I5N4UODPTMA+iMtnf9XqfRScAzQIGflDKA+JYVQOY5JvoHMU9AqYk00mfRXL/8vagiUl9B3ve90ZdiEQ4lv8fATgDbALoHwG35rB34iVtvA9Vw/O8E+pyZJ5RWZ1Pxmkn8mMp/bSNP/g/4u6MTRMjQCQAAAABJRU5ErkJggg=="},46:function(e,t,a){e.exports=a.p+"static/media/save.a1ebfcf8.svg"},50:function(e,t,a){e.exports=a.p+"static/media/loader.5b18094e.svg"},56:function(e,t,a){e.exports=a(88)},61:function(e,t,a){},62:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(61),a(62),a(15)),l=a.n(o),u=a(8),s=a(12),m=a(25),h=a(13),g=a.n(h),d=a(26),p=a(3),A=a(42),f=a.n(A).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),E="4f854dff31c2e1ca2516bffdbe8c42c1",y=function(e){return f.get("weather?".concat(e,"&appid=").concat(E))},v=function(e){return f.get("forecast?q=".concat(e,"&appid=").concat(E))},w=a(43),D={cities:[]},C=function(e){return{type:"ADD_CITY",city:e}},b=Object(w.a)(),O={currentWeather:null,dailyWeather:[],hourlyWeather:[],toggle:!0,loading:!1},W=function(e){return{type:"SET_HOURLY_WEATHER",payload:e}},I=function(e){return{type:"LOADING",payload:e}},j=function(e){return function(){var t=Object(d.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:n=t.sent,(r=n.data.list.filter((function(e){var t=(new Date).getHours(),a=new Date(e.dt_txt).getHours();if(t>=a&&t<a+3)return e}))).filter((function(e){if(new Date!==new Date(e.dt_txt))return e})),a({type:"SET_DAILY_WEATHER",payload:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(e,t){return function(){var a=Object(d.a)(g.a.mark((function a(n){var r,c,i,o,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(I(!0)),a.next=3,v(e);case 3:r=a.sent,c=r.data.list.filter((function(e){var a=new Date(e.dt_txt).getDate(),n=new Date(e.dt_txt).getHours(),r=(new Date).getHours();if(a==t&&r>=n&&r<n+3)return e})),i=Object(p.a)(Object(p.a)({},r.data.city),c[0]),n({type:"SET_CURRENT_WEATHER",payload:i}),o=r.data.list.filter((function(e){if(new Date(e.dt_txt).getDate()==t)return e})),l=Object(m.a)(o),n(W(l)),n(I(!1));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},B=Object(s.b)((function(e){return{toggle:e.weather.toggle}}),{setToggle:function(e){return{type:"SET_TOGGLE",payload:e}}})((function(e){var t=e.toggle,a=e.setToggle;return r.a.createElement("div",{className:l.a.toggle},r.a.createElement("input",{name:"toggle",type:"radio",value:"celsius",onChange:function(){return a(!0)},checked:t}),"\xb0C",r.a.createElement("input",{name:"toggle",type:"radio",value:"fahrenheit",onChange:function(){return a(!1)}}),"\xb0F")})),T=function(){return r.a.createElement("nav",{className:l.a.nav},r.a.createElement(u.b,{activeClassName:l.a.active,to:"/weather"},"Home"),r.a.createElement(u.b,{activeClassName:l.a.active,to:"/cities"},"Favorite Cities"),r.a.createElement(B,null))},_=a(2),M=a(18),R=a(10),x=a.n(R),P=a(44),U=a.n(P),k=a(45),Q=a.n(k),N=a(46),G=a.n(N),Y=function(e){var t=e.city,a=e.updateCity,c=e.onCityDelete,i=Object(n.useState)(!1),o=Object(M.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(t.name),h=Object(M.a)(m,2),g=h[0],d=h[1];return r.a.createElement("div",{className:x.a.city,key:t.id},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{value:g,autoFocus:!0,onChange:function(e){return d(e.currentTarget.value)}}),r.a.createElement("img",{className:x.a.icon,src:G.a,alt:"",onClick:function(){return e=g,n=t.id,a(e,n),void s(!1);var e,n}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/weather/"+t.name},t.name),r.a.createElement("div",{className:x.a.icons},r.a.createElement("img",{className:x.a.icon,src:Q.a,alt:"",onClick:function(){return s(!0)}}),r.a.createElement("img",{className:x.a.icon,src:U.a,alt:"",onClick:function(){return c(t.id)}}))))},S=Object(s.b)((function(e){return{cities:e.cities.cities}}),{addCity:C,onCityDelete:function(e){return{type:"DELETE_CITY",id:e}},updateCity:function(e,t){return{type:"UPDATE_CITY",name:e,id:t}}})((function(e){var t=e.cities,a=e.addCity,c=e.onCityDelete,i=e.updateCity,o=Object(n.useState)(""),l=Object(M.a)(o,2),u=l[0],s=l[1];return r.a.createElement("div",{className:x.a.cities},r.a.createElement("form",{onSubmit:function(e){if(u.trim()){e.preventDefault();var t={name:u[0].toUpperCase()+u.slice(1),id:Date.now()};a(t),s("")}else alert("enter city name")},className:x.a.input},r.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.currentTarget.value)}}),r.a.createElement("button",null,"Add City +")),r.a.createElement("div",{className:x.a.inner},0===t.length?r.a.createElement("div",{className:x.a.empty},"empty..."):t.map((function(e){return r.a.createElement(Y,{key:e.id,city:e,onCityDelete:c,updateCity:i})}))))})),V=a(47),F=a(48),Z=a(55),J=a(54),K=a(9),z=a.n(K),L=a(49),q=a.n(L),X=function(e){var t=e.daily,a=e.toggle,n=e.name,c=(e.requestWeatherByDay,e.dt),i=Math.floor(t.main.temp-273.15),o=Math.floor(9*i/5+32),l=t.dt_txt.slice(5,10),s=new Date(1e3*c).getDate(),m=new Date(1e3*t.dt).getDate();return r.a.createElement(u.b,{to:"/weather/".concat(n,"/").concat(m),style:{color:"black",textDecoration:"none"}},r.a.createElement("div",{className:q()(z.a.DailyWeatheritem,s===m&&z.a.currentDay)},r.a.createElement("div",{className:"date"},l),r.a.createElement("div",null,a?r.a.createElement("h2",null,i,"\xb0C"):r.a.createElement("h2",null,o,"\xb0F"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/"+t.weather[0].icon+".png",alt:""}))))},$=a(50),ee=a.n($),te=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:ee.a,alt:""}))},ae=function(e){var t=e.currentWeather,a=e.toggle,n=e.loading,c=t.name,i=t.main,o=t.weather,l=Math.floor(i.temp-273.15),u=Math.floor(9*l/5+32);return n?r.a.createElement(te,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,c),a?r.a.createElement("h1",null,l,"\xb0C"):r.a.createElement("h1",null,u,"\xb0F"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/"+o[0].icon+"@4x.png",alt:""}),r.a.createElement("h4",null,o[0].main))},ne=function(e){var t=e.hourly,a=e.toggle,n=Math.floor(t.main.temp-273.15),c=Math.floor(9*n/5+32),i=t.dt_txt.slice(10);return r.a.createElement("div",{className:z.a.hourlyWeatherItem},r.a.createElement("div",null,i),a?r.a.createElement("div",null,n,"\xb0C"):r.a.createElement("div",null,c,"\xb0F"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/"+t.weather[0].icon+".png",alt:""}))},re=function(e){var t=e.currentWeather,a=e.dailyWeather,n=e.hourlyWeather,c=e.requestWeatherByDay,i=e.toggle,o=e.loading;return r.a.createElement("div",{className:z.a.weather},r.a.createElement("div",{className:z.a.currentWeather},r.a.createElement(ae,{currentWeather:t,toggle:i,loading:o})),r.a.createElement("div",{className:z.a.hourlyWeather},n.map((function(e){return r.a.createElement(ne,{key:e.dt,hourly:e,toggle:i})}))),r.a.createElement("div",{className:z.a.dailyWeather},a.map((function(e){return r.a.createElement(X,{key:e.dt,daily:e,toggle:i,requestWeatherByDay:c,dt:t.dt,name:t.name})}))))},ce=function(e){Object(Z.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(V.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).refreshWeather=function(){var t=e.props.match.params.day;if(void 0===t&&(t=(new Date).getDate()),e.props.match.params.city){var a="q=".concat(e.props.match.params.city);e.props.requestCurrentWeather(a,t)}else navigator.geolocation.getCurrentPosition((function(a){var n=a.coords.latitude,r=a.coords.longitude,c="lat=".concat(n,"&lon=").concat(r);e.props.requestCurrentWeather(c,t)}))},e}return Object(F.a)(a,[{key:"componentDidMount",value:function(){this.refreshWeather()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.day!==this.props.match.params.day&&this.refreshWeather()}},{key:"render",value:function(){return this.props.currentWeather?r.a.createElement(re,{currentWeather:this.props.currentWeather,dailyWeather:this.props.dailyWeather,hourlyWeather:this.props.hourlyWeather,requestWeatherByDay:this.props.requestWeatherByDay,toggle:this.props.toggle,loading:this.props.loading}):r.a.createElement(te,null)}}]),a}(n.Component),ie=Object(_.f)(Object(s.b)((function(e){return{currentWeather:e.weather.currentWeather,dailyWeather:e.weather.dailyWeather,hourlyWeather:e.weather.hourlyWeather,toggle:e.weather.toggle,loading:e.weather.loading}}),{requestCurrentWeather:function e(t,a){return function(){var n=Object(d.a)(g.a.mark((function n(r,c){var i,o,l;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(t);case 3:i=n.sent,r(j(i.data.name,i.data.dt)),r(H(i.data.name,a)),o={name:i.data.name,id:Date.now()},(0===(l=c().cities.cities).length||l.every((function(e){return e.name!==o.name})))&&r(C(o)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),alert("city not found"),b.push("/"),navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,n=t.coords.longitude,c="lat=".concat(a,"&lon=").concat(n);r(e(c))}));case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},requestWeatherByDay:H})(ce)),oe=Object(_.f)((function(){return r.a.createElement("div",{className:"app"},r.a.createElement(T,null),r.a.createElement("div",{className:"content"},r.a.createElement(_.b,{exact:!0,path:"/",render:function(){return r.a.createElement(_.a,{to:"/weather"})}}),r.a.createElement(_.b,{path:"/weather/:city?/:day?",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(_.b,{path:"/cities",render:function(){return r.a.createElement(S,null)}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=a(11),ue=a(51),se=a(52),me=a.n(se),he=a(30),ge=Object(le.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_WEATHER":return Object(p.a)(Object(p.a)({},e),{},{currentWeather:t.payload});case"SET_DAILY_WEATHER":return Object(p.a)(Object(p.a)({},e),{},{dailyWeather:t.payload});case"SET_HOURLY_WEATHER":return Object(p.a)(Object(p.a)({},e),{},{hourlyWeather:t.payload});case"SET_TOGGLE":return Object(p.a)(Object(p.a)({},e),{},{toggle:t.payload});case"LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:t.payload});default:return e}},cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return Object(p.a)(Object(p.a)({},e),{},{cities:[].concat(Object(m.a)(e.cities),[t.city])});case"DELETE_CITY":return Object(p.a)(Object(p.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.id}))});case"UPDATE_CITY":return Object(p.a)(Object(p.a)({},e),{},{cities:e.cities.map((function(e){return e.id===t.id&&(e.name=t.name),e}))});default:return e}}}),de={key:"root",storage:me.a,whitelist:["cities"]},pe=Object(he.a)(de,ge),Ae=Object(le.d)(pe,Object(le.a)(ue.a)),fe=Object(he.b)(Ae);window.store=Ae;var Ee=a(53);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(s.a,{store:Ae},r.a.createElement(Ee.a,{loading:null,persistor:fe},r.a.createElement(oe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports={weather:"weather_weather__uDB3l",currentWeather:"weather_currentWeather__1s5vX",hourlyWeather:"weather_hourlyWeather__2PmXC",hourlyWeatherItem:"weather_hourlyWeatherItem__3DzmQ",dailyWeather:"weather_dailyWeather__1DmLr",DailyWeatheritem:"weather_DailyWeatheritem__3rzgT",currentDay:"weather_currentDay__jhBRq"}}},[[56,1,2]]]);
//# sourceMappingURL=main.fb5df5d2.chunk.js.map