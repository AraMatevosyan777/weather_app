(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){e.exports={cities:"cities_cities__2BRUy",input:"cities_input__1uDEp",inner:"cities_inner__6Sljw",city:"cities_city__2oSvm",empty:"cities_empty__3KqKE"}},22:function(e,t,a){e.exports={nav:"nav_nav__1h3Rj",toggle:"nav_toggle__1Xn3Y"}},44:function(e,t,a){e.exports=a.p+"static/media/loader.5b18094e.svg"},49:function(e,t,a){e.exports=a(81)},54:function(e,t,a){},55:function(e,t,a){},8:function(e,t,a){e.exports={weather:"weather_weather__uDB3l",currentWeather:"weather_currentWeather__1s5vX",hourlyWeather:"weather_hourlyWeather__2PmXC",hourlyWeatherItem:"weather_hourlyWeatherItem__3DzmQ",dailyWeather:"weather_dailyWeather__1DmLr",DailyWeatheritem:"weather_DailyWeatheritem__3rzgT",currentDay:"weather_currentDay__jhBRq"}},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(54),a(55),a(22)),l=a.n(o),u=a(10),s=a(12),m=a(26),h=a(11),d=a.n(h),f=a(18),p=a(3),y=a(42),E=a.n(y).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),g="4f854dff31c2e1ca2516bffdbe8c42c1",v=function(e,t){return E.get("weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(g))},_=function(e){return E.get("weather?q=".concat(e,"&appid=").concat(g))},b=function(e){return E.get("forecast?q=".concat(e,"&appid=").concat(g))},w=a(43),W={cities:[]},O=function(e){return{type:"ADD_CITY",city:e}},j=Object(w.a)(),C={currentWeather:null,dailyWeather:[],hourlyWeather:[],toggle:!0},D=function(e){return{type:"SET_CURRENT_WEATHER",payload:e}},T=function(e){return{type:"SET_HOURLY_WEATHER",payload:e}},x=function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n,r){var c,i,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v(e,t);case 2:c=a.sent,n(D(c.data)),n(k(c.data.name)),i={name:c.data.name,id:Date.now()},0===(o=r().cities.cities).length?n(O(i)):o.every((function(e){e.name!==i.name&&n(O(i))}));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:n=t.sent,(r=n.data.list.filter((function(e){if(12===new Date(e.dt_txt).getHours())return e}))).filter((function(e){if(new Date!==new Date(e.dt_txt))return e})),a({type:"SET_DAILY_WEATHER",payload:r}),c=n.data.list.slice(2,10).map((function(e){return e})),a(T(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=Object(s.b)((function(e){return{toggle:e.weather.toggle}}),{setToggle:function(e){return{type:"SET_TOGGLE",payload:e}}})((function(e){var t=e.toggle,a=e.setToggle;return r.a.createElement("div",{className:l.a.toggle},r.a.createElement("input",{name:"toggle",type:"radio",value:"celsius",onChange:function(){return a(!0)},checked:t}),"\xb0C",r.a.createElement("input",{name:"toggle",type:"radio",value:"fahrenheit",onChange:function(){return a(!1)}}),"\xb0F")})),R=function(){return r.a.createElement("nav",{className:l.a.nav},r.a.createElement(u.b,{to:"/weather"},"Home"),r.a.createElement(u.b,{to:"/cities"},"Favorite Cities"),r.a.createElement(N,null))},S=a(2),A=a(8),q=a.n(A),I=a(44),Y=a.n(I),H=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:Y.a,alt:""}))},L=a(45),B=a.n(L),U=function(e){var t=e.daily,a=e.toggle,n=e.name,c=e.requestWeatherByDay,i=e.dt,o=Math.floor(t.main.temp-273.15),l=Math.floor(9*o/5+32),u=t.dt_txt.slice(5,10);return r.a.createElement("div",{className:B()(q.a.DailyWeatheritem,i===t.dt&&q.a.currentDay),onClick:function(){return c(n,t.dt_txt)}},r.a.createElement("div",{className:"date"},u),r.a.createElement("div",null,a?r.a.createElement("h2",null,o,"\xb0C"):r.a.createElement("h2",null,l,"\xb0F"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/"+t.weather[0].icon+".png",alt:""})))},F=function(e){var t=e.currentWeather,a=e.toggle,n=(e.setToggle,t.name),c=t.main,i=t.weather,o=Math.floor(c.temp-273.15),l=Math.floor(9*o/5+32);return r.a.createElement("div",{className:q.a.currentWeather},r.a.createElement("h3",null,n),a?r.a.createElement("h1",null,o,"\xb0C"):r.a.createElement("h1",null,l,"\xb0F"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/"+i[0].icon+"@4x.png",alt:""}),r.a.createElement("h4",null,i[0].main))},M=function(e){var t=e.hourly,a=e.toggle,n=Math.floor(t.main.temp-273.15),c=Math.floor(9*n/5+32),i=t.dt_txt.slice(10);return r.a.createElement("div",{className:q.a.hourlyWeatherItem},r.a.createElement("div",null,i),a?r.a.createElement("div",null,n,"\xb0C"):r.a.createElement("div",null,c,"\xb0F"),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/"+t.weather[0].icon+".png",alt:""}))},P=Object(S.f)(Object(s.b)((function(e){return{currentWeather:e.weather.currentWeather,dailyWeather:e.weather.dailyWeather,hourlyWeather:e.weather.hourlyWeather,toggle:e.weather.toggle}}),{requestCurrentWeather:x,requestCityWeather:function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:n=t.sent,a(D(n.data)),a(k(e)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),alert("city not found"),j.push("/weather"),navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;a(x(t,n))}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},requestWeatherByDay:function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r,c,i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b(e);case 2:r=a.sent,c=r.data.list.filter((function(e){return e.dt_txt===t})),i=Object(p.a)(Object(p.a)({},r.data.city),c[0]),n(D(i)),o=r.data.list.filter((function(e){if(e.dt_txt.slice(0,10)===t.slice(0,10))return e})),l=Object(m.a)(o),n(T(l));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.requestCurrentWeather,a=e.requestCityWeather,c=e.currentWeather,i=e.match,o=e.dailyWeather,l=e.hourlyWeather,u=e.requestWeatherByDay,s=e.toggle;return Object(n.useEffect)((function(){i.params.city?a(i.params.city):navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.latitude,n=e.coords.longitude;t(a,n)}))}),[i.params.city,a,t]),c?r.a.createElement("div",{className:q.a.weather},r.a.createElement(F,{currentWeather:c,toggle:s}),r.a.createElement("div",{className:q.a.hourlyWeather},l.map((function(e){return r.a.createElement(M,{key:e.dt,hourly:e,toggle:s})}))),r.a.createElement("div",{className:q.a.dailyWeather},o.map((function(e){return r.a.createElement(U,{key:e.dt,daily:e,toggle:s,requestWeatherByDay:u,dt:c.dt,name:c.name})})))):r.a.createElement(H,null)}))),G=a(17),X=a(13),z=a.n(X),J=function(e){var t=e.city,a=e.updateCity,c=e.onCityDelete,i=Object(n.useState)(!1),o=Object(G.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(t.name),h=Object(G.a)(m,2),d=h[0],f=h[1];return r.a.createElement("div",{className:z.a.city,key:t.id},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{value:d,onChange:function(e){return f(e.currentTarget.value)}}),r.a.createElement("button",{onClick:function(){return e=d,n=t.id,a(e,n),void s(!1);var e,n}},"save")):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/weather/"+t.name},t.name),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return c(t.id)}},"Delete"),r.a.createElement("button",{onClick:function(){return s(!0)}},"Edit"))))},K=Object(s.b)((function(e){return{cities:e.cities.cities}}),{addCity:O,onCityDelete:function(e){return{type:"DELETE_CITY",id:e}},updateCity:function(e,t){return{type:"UPDATE_CITY",name:e,id:t}}})((function(e){var t=e.cities,a=e.addCity,c=e.onCityDelete,i=e.updateCity,o=Object(n.useState)(""),l=Object(G.a)(o,2),u=l[0],s=l[1];return r.a.createElement("div",{className:z.a.cities},r.a.createElement("div",{className:z.a.input},r.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.currentTarget.value)}}),r.a.createElement("button",{onClick:function(){if(u.trim()){var e={name:u,id:Date.now()};a(e),s("")}else alert("enter city name")}},"Add City +")),r.a.createElement("div",{className:z.a.inner},0===t.length?r.a.createElement("div",{className:z.a.empty},"empty..."):t.map((function(e){return r.a.createElement(J,{key:e.id,city:e,onCityDelete:c,updateCity:i})}))))})),Q=Object(S.f)((function(){return r.a.createElement("div",{className:"app"},r.a.createElement(R,null),r.a.createElement("div",{className:"content"},r.a.createElement(S.b,{exact:!0,path:"/",render:function(){return r.a.createElement(S.a,{to:"/weather"})}}),r.a.createElement(S.b,{path:"/weather/:city?",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(S.b,{path:"/cities",render:function(){return r.a.createElement(K,null)}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(9),V=a(46),Z=a(47),ee=a.n(Z),te=a(30),ae=Object($.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_WEATHER":return Object(p.a)(Object(p.a)({},e),{},{currentWeather:t.payload});case"SET_DAILY_WEATHER":return Object(p.a)(Object(p.a)({},e),{},{dailyWeather:t.payload});case"SET_HOURLY_WEATHER":return Object(p.a)(Object(p.a)({},e),{},{hourlyWeather:t.payload});case"SET_TOGGLE":return Object(p.a)(Object(p.a)({},e),{},{toggle:t.payload});default:return e}},cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return Object(p.a)(Object(p.a)({},e),{},{cities:[].concat(Object(m.a)(e.cities),[t.city])});case"DELETE_CITY":return Object(p.a)(Object(p.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.id}))});case"UPDATE_CITY":return Object(p.a)(Object(p.a)({},e),{},{cities:e.cities.map((function(e){return e.id===t.id&&(e.name=t.name),e}))});default:return e}}}),ne={key:"root",storage:ee.a,whitelist:["cities"]},re=Object(te.a)(ne,ae),ce=Object($.d)(re,Object($.a)(V.a)),ie=Object(te.b)(ce);window.store=ce;var oe=a(48);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(s.a,{store:ce},r.a.createElement(oe.a,{loading:null,persistor:ie},r.a.createElement(Q,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.afefa41f.chunk.js.map